<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ridhima Library - Student Management</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f7fa;
            color: #333;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        header {
            background: linear-gradient(135deg, #2c3e50, #4a6491);
            color: white;
            padding: 20px 0;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            display: flex;
            align-items: center;
        }
        
        .logo i {
            font-size: 2.5rem;
            margin-right: 15px;
        }
        
        .logo h1 {
            font-size: 1.8rem;
            font-weight: 600;
        }
        
        .logo p {
            font-size: 0.9rem;
            opacity: 0.9;
        }
        
        nav ul {
            display: flex;
            list-style: none;
        }
        
        nav ul li {
            margin-left: 25px;
        }
        
        nav ul li a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s;
            padding: 5px 10px;
            border-radius: 4px;
        }
        
        nav ul li a:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }
        
        .hero {
            background: url('https://images.unsplash.com/photo-1507842217343-583bb7270b66?ixlib=rb-4.0.3') center/cover no-repeat;
            padding: 80px 0;
            text-align: center;
            color: white;
            position: relative;
        }
        
        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.6);
        }
        
        .hero-content {
            position: relative;
            max-width: 800px;
            margin: 0 auto;
        }
        
        .hero h2 {
            font-size: 2.5rem;
            margin-bottom: 20px;
        }
        
        .hero p {
            font-size: 1.2rem;
            margin-bottom: 30px;
        }
        
        .btn {
            display: inline-block;
            background: #4a6491;
            color: white;
            padding: 12px 25px;
            border-radius: 5px;
            text-decoration: none;
            font-weight: 500;
            transition: background 0.3s;
            border: none;
            cursor: pointer;
        }
        
        .btn:hover {
            background: #2c3e50;
        }
        
        .features {
            padding: 60px 0;
        }
        
        .section-title {
            text-align: center;
            margin-bottom: 50px;
            color: #2c3e50;
        }
        
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
        }
        
        .feature-card {
            background: white;
            border-radius: 8px;
            padding: 30px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            transition: transform 0.3s;
        }
        
        .feature-card:hover {
            transform: translateY(-5px);
        }
        
        .feature-card i {
            font-size: 2.5rem;
            color: #4a6491;
            margin-bottom: 20px;
        }
        
        .feature-card h3 {
            margin-bottom: 15px;
            color: #2c3e50;
        }
        
        .management-section {
            background: white;
            padding: 60px 0;
        }
        
        .management-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 40px;
        }
        
        .option-card {
            background: #f8f9fa;
            border-left: 4px solid #4a6491;
            padding: 25px;
            border-radius: 5px;
            cursor: pointer;
            transition: transform 0.3s;
        }
        
        .option-card:hover {
            transform: translateY(-5px);
        }
        
        .option-card h3 {
            color: #2c3e50;
            margin-bottom: 15px;
        }
        
        .option-card ul {
            list-style: none;
            margin-left: 10px;
        }
        
        .option-card ul li {
            margin-bottom: 10px;
            display: flex;
            align-items: center;
        }
        
        .option-card ul li i {
            color: #4a6491;
            margin-right: 10px;
        }
        
        /* Page Content Styles */
        .page-content {
            display: none;
            padding: 40px 0;
        }
        
        .page-content.active {
            display: block;
        }
        
        /* Data Entry Form Styles */
        .form-container {
            background: white;
            border-radius: 10px;
            padding: 30px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
            max-width: 800px;
            margin: 0 auto;
        }
        
        .form-title {
            text-align: center;
            margin-bottom: 30px;
            color: #2c3e50;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: #2c3e50;
        }
        
        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 16px;
        }
        
        .form-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
        }
        
        .form-buttons {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 30px;
        }
        
        .btn-secondary {
            background: #6c757d;
        }
        
        .btn-secondary:hover {
            background: #5a6268;
        }
        
        .btn-success {
            background: #28a745;
        }
        
        .btn-success:hover {
            background: #218838;
        }
        
        /* Student Records Table */
        .records-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 30px;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }
        
        .records-table th,
        .records-table td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        
        .records-table th {
            background-color: #4a6491;
            color: white;
        }
        
        .records-table tr:hover {
            background-color: #f5f5f5;
        }
        
        .action-buttons {
            display: flex;
            gap: 10px;
        }
        
        .btn-sm {
            padding: 6px 12px;
            font-size: 14px;
        }
        
        .btn-danger {
            background: #dc3545;
        }
        
        .btn-danger:hover {
            background: #c82333;
        }
        
        .btn-warning {
            background: #ffc107;
            color: #212529;
        }
        
        .btn-warning:hover {
            background: #e0a800;
        }
        
        /* Payment Section */
        .payment-details {
            background: #e9ecef;
            padding: 20px;
            border-radius: 8px;
            margin-top: 20px;
        }
        
        .payment-details h4 {
            margin-bottom: 15px;
            color: #2c3e50;
        }
        
        /* Report Section */
        .report-filters {
            background: white;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }
        
        .payment-status {
            display: inline-block;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 500;
        }
        
        .status-paid {
            background-color: #d4edda;
            color: #155724;
        }
        
        .status-pending {
            background-color: #fff3cd;
            color: #856404;
        }
        
        footer {
            background: #2c3e50;
            color: white;
            padding: 40px 0;
            text-align: center;
        }
        
        .footer-content {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .contact-info {
            margin: 20px 0;
        }
        
        .social-links {
            margin-top: 20px;
        }
        
        .social-links a {
            color: white;
            margin: 0 10px;
            font-size: 1.5rem;
        }
        
        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }
        
        .modal-content {
            background-color: white;
            padding: 30px;
            border-radius: 8px;
            width: 90%;
            max-width: 500px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .close-modal {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
        }
        
        /* Login Form Styles */
        .login-container {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 80vh;
        }
        
        .login-form {
            background: white;
            padding: 40px;
            border-radius: 10px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 400px;
        }
        
        .login-form h2 {
            text-align: center;
            margin-bottom: 30px;
            color: #2c3e50;
        }
        
        /* Invoice Styles */
        .invoice {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
            max-width: 800px;
            margin: 20px auto;
            display: none;
        }
        
        .invoice-header {
            text-align: center;
            margin-bottom: 30px;
            border-bottom: 2px solid #4a6491;
            padding-bottom: 20px;
        }
        
        .invoice-details {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .invoice-items {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 30px;
        }
        
        .invoice-items th,
        .invoice-items td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        
        .invoice-items th {
            background-color: #4a6491;
            color: white;
        }
        
        .invoice-total {
            text-align: right;
            font-size: 1.2rem;
            font-weight: bold;
            margin-top: 20px;
        }
        
        .invoice-buttons {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 30px;
        }
        
        /* Mobile Navigation */
        .menu-toggle {
            display: none;
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
        }
        
        /* Responsive Styles */
        @media (max-width: 992px) {
            .header-content {
                flex-direction: column;
                text-align: center;
            }
            
            nav ul {
                margin-top: 20px;
                justify-content: center;
            }
            
            nav ul li {
                margin: 0 10px;
            }
            
            .hero h2 {
                font-size: 2rem;
            }
            
            .invoice-details {
                grid-template-columns: 1fr;
            }
        }
        
        @media (max-width: 768px) {
            .menu-toggle {
                display: block;
                position: absolute;
                top: 25px;
                right: 20px;
            }
            
            nav {
                width: 100%;
                display: none;
            }
            
            nav.active {
                display: block;
            }
            
            nav ul {
                flex-direction: column;
                margin-top: 15px;
            }
            
            nav ul li {
                margin: 5px 0;
            }
            
            .form-row {
                grid-template-columns: 1fr;
            }
            
            .records-table {
                display: block;
                overflow-x: auto;
            }
            
            .action-buttons {
                flex-direction: column;
            }
        }
        
        @media (max-width: 576px) {
            .logo {
                flex-direction: column;
                text-align: center;
            }
            
            .logo i {
                margin-right: 0;
                margin-bottom: 10px;
            }
            
            .hero {
                padding: 60px 0;
            }
            
            .hero h2 {
                font-size: 1.8rem;
            }
            
            .hero p {
                font-size: 1rem;
            }
            
            .form-container {
                padding: 20px;
            }
            
            .form-buttons {
                flex-direction: column;
            }
            
            .login-form {
                padding: 20px;
            }
        }
        
        /* Admin specific styles */
        .admin-only {
            display: none;
        }
        
        .logged-in .admin-only {
            display: block;
        }
        
        .logged-in .admin-hide {
            display: none;
        }
    </style>
</head>
<body>
    <!-- Header Section -->
    <header>
        <div class="container header-content">
            <button class="menu-toggle" id="menuToggle">
                <i class="fas fa-bars"></i>
            </button>
            
            <div class="logo">
                <i class="fas fa-book-open"></i>
                <div>
                    <h1>Ridhima Library</h1>
                    <p>Budh Bihar Colony, Saidnagar, Darbhanga</p>
                </div>
            </div>
            <nav id="mainNav">
                <ul>
                    <li><a href="#home" class="nav-link" data-page="home">Home</a></li>
                    <li><a href="#features" class="nav-link" data-page="features">Features</a></li>
                    <li><a href="#management" class="nav-link admin-only" data-page="management">Management</a></li>
                    <li><a href="#data-entry" class="nav-link admin-only" data-page="data-entry">Fee Payments</a></li>
                    <li><a href="#new-admission" class="nav-link admin-only" data-page="new-admission">New Admission</a></li>
                    <li><a href="#reporting" class="nav-link admin-only" data-page="reporting">Reports</a></li>
                    <li><a href="#contact" class="nav-link" data-page="contact">Contact</a></li>
                    <li class="admin-hide"><a href="#login" class="nav-link" data-page="login">Admin Login</a></li>
                    <li class="admin-only"><a href="#" id="logoutBtn">Logout</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Login Page -->
    <section id="login-page" class="page-content">
        <div class="container login-container">
            <div class="login-form">
                <h2>Admin Login</h2>
                <form id="loginForm">
                    <div class="form-group">
                        <label for="username">Username</label>
                        <input type="text" id="username" required>
                    </div>
                    <div class="form-group">
                        <label for="password">Password</label>
                        <input type="password" id="password" required>
                    </div>
                    <div class="form-buttons">
                        <button type="submit" class="btn">Login</button>
                    </div>
                </form>
            </div>
        </div>
    </section>

    <!-- Home Page -->
    <section id="home-page" class="page-content active">
        <!-- Hero Section -->
        <section class="hero">
            <div class="container hero-content">
                <h2>Welcome to Ridhima Library Management System</h2>
                <p>Efficiently manage student data, admissions, and fee payments all in one place</p>
                <div class="admin-hide">
                    <a href="#login" class="btn nav-link" data-page="login">Admin Login</a>
                </div>
                <div class="admin-only">
                    <a href="#data-entry" class="btn nav-link" data-page="data-entry">Fee Payments</a>
                    <a href="#new-admission" class="btn btn-success nav-link" data-page="new-admission" style="margin-left: 10px;">New Admission</a>
                </div>
            </div>
        </section>

        <!-- Features Section -->
        <section class="features">
            <div class="container">
                <h2 class="section-title">Our Management Features</h2>
                <div class="features-grid">
                    <div class="feature-card">
                        <i class="fas fa-user-graduate"></i>
                        <h3>Student Admissions</h3>
                        <p>Easily register new students with complete details including contact information and admission date.</p>
                    </div>
                    <div class="feature-card">
                        <i class="fas fa-money-bill-wave"></i>
                        <h3>Fee Management</h3>
                        <p>Track fee payments, generate receipts, and send reminders for pending payments automatically.</p>
                    </div>
                    <div class="feature-card">
                        <i class="fas fa-database"></i>
                        <h3>Data Management</h3>
                        <p>Maintain organized records of all students with search, filter, and update capabilities.</p>
                    </div>
                    <div class="feature-card">
                        <i class="fas fa-chart-pie"></i>
                        <h3>Monthly Reports</h3>
                        <p>Generate detailed reports showing which students have paid and which haven't for each month.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Management Section -->
        <section class="management-section">
            <div class="container">
                <h2 class="section-title">Student Management Options</h2>
                <div class="management-options">
                    <div class="option-card admin-only" data-page="new-admission">
                        <h3>Admission Management</h3>
                        <ul>
                            <li><i class="fas fa-plus-circle"></i> New Admissions</li>
                            <li><i class="fas fa-edit"></i> Update Student Details</li>
                            <li><i class="fas fa-search"></i> Find Student Records</li>
                            <li><i class="fas fa-history"></i> Admission History</li>
                        </ul>
                    </div>
                    <div class="option-card admin-only" data-page="data-entry">
                        <h3>Fee Management</h3>
                        <ul>
                            <li><i class="fas fa-money-check"></i> Fee Payment Processing</li>
                            <li><i class="fas fa-receipt"></i> Generate Payment Receipts</li>
                            <li><i class="fas fa-clock"></i> Payment History</li>
                            <li><i class="fas fa-bell"></i> Payment Reminders</li>
                        </ul>
                    </div>
                    <div class="option-card admin-only" data-page="reporting">
                        <h3>Reporting</h3>
                        <ul>
                            <li><i class="fas fa-chart-bar"></i> Monthly Reports</li>
                            <li><i class="fas fa-file-invoice"></i> Fee Collection Reports</li>
                            <li><i class="fas fa-user-friends"></i> Student Strength Reports</li>
                            <li><i class="fas fa-download"></i> Export Data</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>
    </section>

    <!-- Data Entry Page -->
    <section id="data-entry-page" class="page-content">
        <div class="container">
            <h2 class="section-title">Fee Payment Management</h2>
            <div class="form-container">
                <h3 class="form-title">Fee Payment Entry</h3>
                <form id="paymentForm">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="studentId">Student ID *</label>
                            <input type="text" id="studentId" required>
                        </div>
                        <div class="form-group">
                            <label for="studentName">Student Name *</label>
                            <input type="text" id="studentName" required>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="paymentMonth">Payment For Month *</label>
                            <select id="paymentMonth" required>
                                <option value="">Select Month</option>
                                <option value="January">January</option>
                                <option value="February">February</option>
                                <option value="March">March</option>
                                <option value="April">April</option>
                                <option value="May">May</option>
                                <option value="June">June</option>
                                <option value="July">July</option>
                                <option value="August">August</option>
                                <option value="September">September</option>
                                <option value="October">October</option>
                                <option value="November">November</option>
                                <option value="December">December</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="paymentYear">Payment Year *</label>
                            <select id="paymentYear" required>
                                <option value="">Select Year</option>
                                <option value="2023">2023</option>
                                <option value="2024">2024</option>
                                <option value="2025">2025</option>
                                <option value="2026">2026</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="feeAmount">Fee Amount (₹) *</label>
                            <input type="number" id="feeAmount" required>
                        </div>
                        <div class="form-group">
                            <label for="paymentDate">Payment Date *</label>
                            <input type="date" id="paymentDate" required>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="paymentMethod">Payment Method *</label>
                            <select id="paymentMethod" required>
                                <option value="">Select Method</option>
                                <option value="Cash">Cash</option>
                                <option value="UPI">UPI</option>
                                <option value="Bank Transfer">Bank Transfer</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="transactionId">Transaction ID (if online)</label>
                            <input type="text" id="transactionId">
                        </div>
                    </div>
                    
                    <div class="form-buttons">
                        <button type="submit" class="btn">Record Payment</button>
                        <button type="reset" class="btn btn-secondary">Clear Form</button>
                    </div>
                </form>
                
                <h3 style="margin-top: 40px; margin-bottom: 20px;">Payment Records</h3>
                <table class="records-table">
                    <thead>
                        <tr>
                            <th>Student ID</th>
                            <th>Name</th>
                            <th>Month</th>
                            <th>Amount</th>
                            <th>Date</th>
                            <th>Method</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="paymentRecords">
                        <!-- Payment records will be loaded from localStorage -->
                    </tbody>
                </table>
            </div>
        </div>
    </section>

    <!-- New Admission Page -->
    <section id="new-admission-page" class="page-content">
        <div class="container">
            <h2 class="section-title">New Student Admission</h2>
            <div class="form-container">
                <h3 class="form-title">Student Registration Form</h3>
                <form id="admissionForm">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="newStudentName">Full Name *</label>
                            <input type="text" id="newStudentName" required>
                        </div>
                        <div class="form-group">
                            <label for="newFatherName">Father's Name *</label>
                            <input type="text" id="newFatherName" required>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="newPhone">Phone Number *</label>
                            <input type="tel" id="newPhone" required>
                        </div>
                        <div class="form-group">
                            <label for="newEmail">Email Address</label>
                            <input type="email" id="newEmail">
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="newAddress">Address *</label>
                            <textarea id="newAddress" rows="2" required></textarea>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="newAdmissionDate">Admission Date *</label>
                            <input type="date" id="newAdmissionDate" required>
                        </div>
                        <div class="form-group">
                            <label for="newFeeAmount">Monthly Fee Amount (₹) *</label>
                            <input type="number" id="newFeeAmount" required>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="registrationFee">Registration Fee (₹) *</label>
                            <input type="number" id="registrationFee" required value="500">
                        </div>
                        <div class="form-group">
                            <label for="newFeeStatus">Initial Fee Status *</label>
                            <select id="newFeeStatus" required>
                                <option value="Paid">Paid</option>
                                <option value="Pending">Pending</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="payment-details" id="initialPaymentSection">
                        <h4>Initial Payment Details</h4>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="initialPaymentDate">Payment Date</label>
                                <input type="date" id="initialPaymentDate">
                            </div>
                            <div class="form-group">
                                <label for="initialPaymentMethod">Payment Method</label>
                                <select id="initialPaymentMethod">
                                    <option value="">Select Method</option>
                                    <option value="Cash">Cash</option>
                                    <option value="UPI">UPI</option>
                                    <option value="Bank Transfer">Bank Transfer</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-buttons">
                        <button type="submit" class="btn">Complete Admission</button>
                        <button type="reset" class="btn btn-secondary">Clear Form</button>
                    </div>
                </form>
                
                <h3 style="margin-top: 40px; margin-bottom: 20px;">Student Records</h3>
                <table class="records-table">
                    <thead>
                        <tr>
                            <th>Student ID</th>
                            <th>Name</th>
                            <th>Admission Date</th>
                            <th>Fee Status</th>
                            <th>Monthly Fee</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="admissionRecords">
                        <!-- Admission records will be loaded from localStorage -->
                    </tbody>
                </table>
            </div>
        </div>
    </section>

    <!-- Reporting Page -->
    <section id="reporting-page" class="page-content">
        <div class="container">
            <h2 class="section-title">Monthly Payment Reports</h2>
            
            <div class="report-filters">
                <h3>Filter Reports</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label for="reportMonth">Select Month</label>
                        <select id="reportMonth">
                            <option value="">All Months</option>
                            <option value="January">January</option>
                            <option value="February">February</option>
                            <option value="March">March</option>
                            <option value="April">April</option>
                            <option value="May">May</option>
                            <option value="June">June</option>
                            <option value="July">July</option>
                            <option value="August">August</option>
                            <option value="September">September</option>
                            <option value="October">October</option>
                            <option value="November">November</option>
                            <option value="December">December</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="reportYear">Select Year</label>
                        <select id="reportYear">
                            <option value="">All Years</option>
                            <option value="2023">2023</option>
                            <option value="2024">2024</option>
                            <option value="2025">2025</option>
                            <option value="2026">2026</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="reportStatus">Payment Status</label>
                        <select id="reportStatus">
                            <option value="">All Status</option>
                            <option value="Paid">Paid</option>
                            <option value="Pending">Pending</option>
                        </select>
                    </div>
                </div>
                <div class="form-buttons">
                    <button class="btn" onclick="generateReport()">Generate Report</button>
                    <button class="btn btn-secondary" onclick="clearReportFilters()">Clear Filters</button>
                </div>
            </div>
            
            <div class="form-container">
                <h3 class="form-title">Monthly Payment Status</h3>
                <div class="form-buttons">
                    <button class="btn btn-success" onclick="markCurrentMonthPayments()">Mark Current Month Payments</button>
                </div>
                
                <table class="records-table">
                    <thead>
                        <tr>
                            <th>Student ID</th>
                            <th>Name</th>
                            <th>Month</th>
                            <th>Fee Amount</th>
                            <th>Status</th>
                            <th>Payment Date</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="reportRecords">
                        <!-- Report records will be loaded from localStorage -->
                    </tbody>
                </table>
                
                <div style="margin-top: 30px; display: flex; justify-content: space-between;">
                    <div>
                        <h4>Summary</h4>
                        <p>Total Students: <span id="totalStudents">0</span></p>
                        <p>Paid Students: <span id="paidStudents">0</span></p>
                        <p>Pending Students: <span id="pendingStudents">0</span></p>
                        <p>Total Collection: ₹<span id="totalCollection">0</span></p>
                    </div>
                    <div class="form-buttons">
                        <button class="btn" onclick="exportReportData()">Export Report</button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Page -->
    <section id="contact-page" class="page-content">
        <footer>
            <div class="container footer-content">
                <h2>Ridhima Library</h2>
                <div class="contact-info">
                    <p><i class="fas fa-map-marker-alt"></i> Budh Bihar Colony, Saidnagar, Darbhanga</p>
                    <p><i class="fas fa-phone"></i> +91 XXXXX XXXXX</p>
                    <p><i class="fas fa-envelope"></i> info@ridhimalibrary.com</p>
                </div>
                <div class="social-links">
                    <a href="#"><i class="fab fa-facebook"></i></a>
                    <a href="#"><i class="fab fa-twitter"></i></a>
                    <a href="#"><i class="fab fa-instagram"></i></a>
                    <a href="#"><i class="fab fa-youtube"></i></a>
                </div>
                <p>&copy; 2023 Ridhima Library. All rights reserved.</p>
            </div>
        </footer>
    </section>

    <!-- Update Payment Status Modal -->
    <div class="modal" id="updatePaymentModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Update Payment Status</h3>
                <button class="close-modal" onclick="closeModal('updatePaymentModal')">&times;</button>
            </div>
            <form id="updatePaymentForm">
                <input type="hidden" id="updateStudentId">
                <input type="hidden" id="updateMonth">
                <input type="hidden" id="updateYear">
                
                <div class="form-group">
                    <label for="updateStatus">Payment Status</label>
                    <select id="updateStatus" required>
                        <option value="Paid">Paid</option>
                        <option value="Pending">Pending</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="updatePaymentDate">Payment Date</label>
                    <input type="date" id="updatePaymentDate">
                </div>
                
                <div class="form-group">
                    <label for="updatePaymentMethod">Payment Method</label>
                    <select id="updatePaymentMethod">
                        <option value="">Select Method</option>
                        <option value="Cash">Cash</option>
                        <option value="UPI">UPI</option>
                        <option value="Bank Transfer">Bank Transfer</option>
                    </select>
                </div>
                
                <div class="form-buttons">
                    <button type="submit" class="btn">Update Payment</button>
                    <button type="button" class="btn btn-secondary" onclick="closeModal('updatePaymentModal')">Cancel</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Invoice Template -->
    <div id="invoice" class="invoice">
        <div class="invoice-header">
            <h2>Ridhima Library</h2>
            <p>Budh Bihar Colony, Saidnagar, Darbhanga</p>
            <h3>PAYMENT RECEIPT</h3>
        </div>
        
        <div class="invoice-details">
            <div>
                <p><strong>Receipt No:</strong> <span id="invoiceReceiptNo"></span></p>
                <p><strong>Date:</strong> <span id="invoiceDate"></span></p>
            </div>
            <div>
                <p><strong>Student ID:</strong> <span id="invoiceStudentId"></span></p>
                <p><strong>Student Name:</strong> <span id="invoiceStudentName"></span></p>
            </div>
        </div>
        
        <table class="invoice-items">
            <thead>
                <tr>
                    <th>Description</th>
                    <th>Amount (₹)</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Library fee for <span id="invoiceMonth"></span> <span id="invoiceYear"></span></td>
                    <td><span id="invoiceAmount"></span></td>
                </tr>
                <tr>
                    <td>Registration Fee</td>
                    <td><span id="invoiceRegFee"></span></td>
                </tr>
            </tbody>
        </table>
        
        <div class="invoice-total">
            <p>Total Amount: ₹<span id="invoiceTotal"></span></p>
        </div>
        
        <div class="invoice-details">
            <div>
                <p><strong>Payment Method:</strong> <span id="invoiceMethod"></span></p>
                <p><strong>Transaction ID:</strong> <span id="invoiceTransactionId"></span></p>
            </div>
        </div>
        
        <div style="margin-top: 50px; text-align: center;">
            <p>_________________________</p>
            <p>Authorized Signature</p>
        </div>
        
        <div class="invoice-buttons">
            <button class="btn" onclick="printInvoice()">Print Receipt</button>
            <button class="btn btn-secondary" onclick="closeInvoice()">Close</button>
        </div>
    </div>

    <script>
        // Admin credentials (in a real app, this would be stored securely on the server)
        const ADMIN_CREDENTIALS = {
            username: "admin",
            password: "password123"
        };
        
        // Global variables
        let isLoggedIn = false;
        let students = JSON.parse(localStorage.getItem('students')) || [];
        let payments = JSON.parse(localStorage.getItem('payments')) || [];
        
        // DOM Content Loaded
        document.addEventListener('DOMContentLoaded', function() {
            // Check if user is logged in
            checkLoginStatus();
            
            // Setup navigation
            setupNavigation();
            
            // Load data
            loadStudentRecords();
            loadPaymentRecords();
            
            // Setup form submissions
            document.getElementById('loginForm').addEventListener('submit', handleLogin);
            document.getElementById('paymentForm').addEventListener('submit', handlePaymentSubmit);
            document.getElementById('admissionForm').addEventListener('submit', handleAdmissionSubmit);
            document.getElementById('updatePaymentForm').addEventListener('submit', handleUpdatePayment);
            document.getElementById('logoutBtn').addEventListener('click', handleLogout);
            
            // Setup initial payment section visibility
            toggleInitialPaymentSection();
            document.getElementById('newFeeStatus').addEventListener('change', toggleInitialPaymentSection);
        });
        
        // Check login status
        function checkLoginStatus() {
            isLoggedIn = localStorage.getItem('isLoggedIn') === 'true';
            if (isLoggedIn) {
                document.body.classList.add('logged-in');
                showPage('home');
            } else {
                document.body.classList.remove('logged-in');
                showPage('home');
            }
        }
        
        // Setup navigation
        function setupNavigation() {
            // Nav links
            document.querySelectorAll('.nav-link').forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const page = this.getAttribute('data-page');
                    showPage(page);
                });
            });
            
            // Option cards
            document.querySelectorAll('.option-card').forEach(card => {
                card.addEventListener('click', function() {
                    const page = this.getAttribute('data-page');
                    showPage(page);
                });
            });
            
            // Mobile menu toggle
            document.getElementById('menuToggle').addEventListener('click', function() {
                const nav = document.getElementById('mainNav');
                nav.classList.toggle('active');
            });
        }
        
        // Show specific page
        function showPage(pageId) {
            // Hide all pages
            document.querySelectorAll('.page-content').forEach(page => {
                page.classList.remove('active');
            });
            
            // Show requested page
            document.getElementById(`${pageId}-page`).classList.add('active');
            
            // Scroll to top
            window.scrollTo(0, 0);
            
            // Close mobile menu if open
            document.getElementById('mainNav').classList.remove('active');
        }
        
        // Handle login
        function handleLogin(e) {
            e.preventDefault();
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            
            if (username === ADMIN_CREDENTIALS.username && password === ADMIN_CREDENTIALS.password) {
                isLoggedIn = true;
                localStorage.setItem('isLoggedIn', 'true');
                document.body.classList.add('logged-in');
                showPage('home');
            } else {
                alert('Invalid username or password');
            }
        }
        
        // Handle logout
        function handleLogout(e) {
            e.preventDefault();
            isLoggedIn = false;
            localStorage.setItem('isLoggedIn', 'false');
            document.body.classList.remove('logged-in');
            showPage('home');
        }
        
        // Toggle initial payment section based on fee status
        function toggleInitialPaymentSection() {
            const feeStatus = document.getElementById('newFeeStatus').value;
            const paymentSection = document.getElementById('initialPaymentSection');
            
            if (feeStatus === 'Paid') {
                paymentSection.style.display = 'block';
                // Set today's date as default for payment date
                const today = new Date().toISOString().split('T')[0];
                document.getElementById('initialPaymentDate').value = today;
            } else {
                paymentSection.style.display = 'none';
            }
        }
        
        // Handle admission form submission
        function handleAdmissionSubmit(e) {
            e.preventDefault();
            
            // Generate student ID (current timestamp for simplicity)
            const studentId = 'STU' + Date.now().toString().slice(-6);
            
            const student = {
                id: studentId,
                name: document.getElementById('newStudentName').value,
                fatherName: document.getElementById('newFatherName').value,
                phone: document.getElementById('newPhone').value,
                email: document.getElementById('newEmail').value,
                address: document.getElementById('newAddress').value,
                admissionDate: document.getElementById('newAdmissionDate').value,
                monthlyFee: document.getElementById('newFeeAmount').value,
                registrationFee: document.getElementById('registrationFee').value,
                feeStatus: document.getElementById('newFeeStatus').value
            };
            
            students.push(student);
            localStorage.setItem('students', JSON.stringify(students));
            
            // If registration fee is paid, record the payment
            if (document.getElementById('newFeeStatus').value === 'Paid') {
                const payment = {
                    studentId: studentId,
                    studentName: student.name,
                    month: 'Registration',
                    year: new Date().getFullYear(),
                    amount: document.getElementById('registrationFee').value,
                    date: document.getElementById('initialPaymentDate').value,
                    method: document.getElementById('initialPaymentMethod').value,
                    transactionId: document.getElementById('initialPaymentMethod').value !== 'Cash' ? 'REG' + Date.now().toString().slice(-6) : ''
                };
                
                payments.push(payment);
                localStorage.setItem('payments', JSON.stringify(payments));
            }
            
            // Reset form and reload data
            e.target.reset();
            loadStudentRecords();
            loadPaymentRecords();
            
            alert(`Student registered successfully! Student ID: ${studentId}`);
        }
        
        // Handle payment form submission
        function handlePaymentSubmit(e) {
            e.preventDefault();
            
            const payment = {
                studentId: document.getElementById('studentId').value,
                studentName: document.getElementById('studentName').value,
                month: document.getElementById('paymentMonth').value,
                year: document.getElementById('paymentYear').value,
                amount: document.getElementById('feeAmount').value,
                date: document.getElementById('paymentDate').value,
                method: document.getElementById('paymentMethod').value,
                transactionId: document.getElementById('transactionId').value
            };
            
            payments.push(payment);
            localStorage.setItem('payments', JSON.stringify(payments));
            
            // Reset form and reload data
            e.target.reset();
            loadPaymentRecords();
            
            // Generate and show invoice
            generateInvoice(payment);
            
            alert('Payment recorded successfully!');
        }
        
        // Load student records
        function loadStudentRecords() {
            const recordsBody = document.getElementById('admissionRecords');
            recordsBody.innerHTML = '';
            
            students.forEach(student => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${student.id}</td>
                    <td>${student.name}</td>
                    <td>${student.admissionDate}</td>
                    <td><span class="payment-status status-${student.feeStatus.toLowerCase()}">${student.feeStatus}</span></td>
                    <td>₹${student.monthlyFee}</td>
                    <td class="action-buttons">
                        <button class="btn btn-sm btn-warning" onclick="editStudent('${student.id}')">Edit</button>
                        <button class="btn btn-sm btn-danger" onclick="deleteStudent('${student.id}')">Delete</button>
                    </td>
                `;
                recordsBody.appendChild(row);
            });
        }
        
        // Load payment records
        function loadPaymentRecords() {
            const recordsBody = document.getElementById('paymentRecords');
            recordsBody.innerHTML = '';
            
            payments.forEach((payment, index) => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${payment.studentId}</td>
                    <td>${payment.studentName}</td>
                    <td>${payment.month} ${payment.year}</td>
                    <td>₹${payment.amount}</td>
                    <td>${payment.date}</td>
                    <td>${payment.method}</td>
                    <td class="action-buttons">
                        <button class="btn btn-sm" onclick="generateInvoiceByIndex(${index})">Receipt</button>
                        <button class="btn btn-sm btn-danger" onclick="deletePayment(${index})">Delete</button>
                    </td>
                `;
                recordsBody.appendChild(row);
            });
        }
        
        // Delete student
        function deleteStudent(studentId) {
            if (confirm('Are you sure you want to delete this student record?')) {
                students = students.filter(student => student.id !== studentId);
                localStorage.setItem('students', JSON.stringify(students));
                
                // Also delete associated payments
                payments = payments.filter(payment => payment.studentId !== studentId);
                localStorage.setItem('payments', JSON.stringify(payments));
                
                loadStudentRecords();
                loadPaymentRecords();
            }
        }
        
        // Delete payment
        function deletePayment(index) {
            if (confirm('Are you sure you want to delete this payment record?')) {
                payments.splice(index, 1);
                localStorage.setItem('payments', JSON.stringify(payments));
                loadPaymentRecords();
            }
        }
        
        // Edit student (placeholder)
        function editStudent(studentId) {
            alert('Edit functionality will be implemented in the next version');
        }
        
        // Generate invoice
        function generateInvoice(payment) {
            const student = students.find(s => s.id === payment.studentId);
            const regFee = student ? parseInt(student.registrationFee) : 0;
            const total = parseInt(payment.amount) + regFee;
            
            document.getElementById('invoiceReceiptNo').textContent = 'INV' + Date.now().toString().slice(-8);
            document.getElementById('invoiceDate').textContent = new Date().toLocaleDateString();
            document.getElementById('invoiceStudentId').textContent = payment.studentId;
            document.getElementById('invoiceStudentName').textContent = payment.studentName;
            document.getElementById('invoiceMonth').textContent = payment.month;
            document.getElementById('invoiceYear').textContent = payment.year;
            document.getElementById('invoiceAmount').textContent = payment.amount;
            document.getElementById('invoiceRegFee').textContent = regFee;
            document.getElementById('invoiceTotal').textContent = total;
            document.getElementById('invoiceMethod').textContent = payment.method;
            document.getElementById('invoiceTransactionId').textContent = payment.transactionId || 'N/A';
            
            document.getElementById('invoice').style.display = 'block';
        }
        
        // Generate invoice by index
        function generateInvoiceByIndex(index) {
            generateInvoice(payments[index]);
        }
        
        // Print invoice
        function printInvoice() {
            const invoiceElement = document.getElementById('invoice');
            const originalContents = document.body.innerHTML;
            
            document.body.innerHTML = invoiceElement.innerHTML;
            window.print();
            document.body.innerHTML = originalContents;
            
            // Re-initialize the page
            checkLoginStatus();
            loadStudentRecords();
            loadPaymentRecords();
        }
        
        // Close invoice
        function closeInvoice() {
            document.getElementById('invoice').style.display = 'none';
        }
        
        // Open modal
        function openModal(modalId) {
            document.getElementById(modalId).style.display = 'flex';
        }
        
        // Close modal
        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }
        
        // Handle update payment
        function handleUpdatePayment(e) {
            e.preventDefault();
            // Implementation for updating payment status
            closeModal('updatePaymentModal');
            alert('Payment status updated successfully!');
        }
        
        // Generate report
        function generateReport() {
            // Implementation for generating reports
            alert('Report generation will be implemented in the next version');
        }
        
        // Clear report filters
        function clearReportFilters() {
            document.getElementById('reportMonth').value = '';
            document.getElementById('reportYear').value = '';
            document.getElementById('reportStatus').value = '';
        }
        
        // Mark current month payments
        function markCurrentMonthPayments() {
            // Implementation for marking current month payments
            alert('Current month payments marked successfully!');
        }
        
        // Export report data
        function exportReportData() {
            // Implementation for exporting data
            alert('Data export will be implemented in the next version');
        }
    </script>
</body>
</html>
